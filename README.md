# Coffee Shop CRM

## Введение

Coffee Shop CRM - это система управления взаимоотношениями с клиентами (CRM), предназначенная для упрощения процесса управления заказами в кофейне. Система построена с использованием подхода event-sourcing, который обеспечивает гибкость в отслеживании и управлении различными этапами жизненного цикла заказа.

## Основные возможности

- **Event Sourcing**: Отслеживание каждого этапа заказа с помощью отдельных событий.
- **Управление заказами**: Обработка полного жизненного цикла заказа от регистрации до выдачи.
- **Реляционная база данных**: Использование реляционной базы данных для хранения информации о заказах.
- **Отслеживание статуса**: Обновление статуса заказов в реальном времени.
- **Обработка отмены заказов**: Эффективное управление отменой заказов.

## Жизненный цикл заказа

Заказ в Coffee Shop CRM может проходить следующие этапы:

1. **Заказ зарегистрирован**: Заказ записан в систему.
2. **Заказ принят в работу**: Заказ взят в работу.
3. **Заказ отменен**: Заказ отменен.
4. **Заказ готов к выдаче**: Заказ готов к выдаче.
5. **Заказ выдан**: Заказ передан клиенту.

## Данные событий

Каждое событие в системе содержит определенные данные:

- **Заказ зарегистрирован**
  - `Идентификатор заказа`
  - `Идентификатор клиента`
  - `Идентификатор сотрудника`
  - `Ожидаемое время выдачи`
  - `Идентификатор товара`
  - `Стоимость товара`
  - `Дата и время`

- **Заказ отменен**
  - `Идентификатор заказа`
  - `Идентификатор сотрудника`
  - `Причина отмены`
  - `Дата и время`

- **Заказ принят в работу**
  - `Идентификатор заказа`
  - `Идентификатор сотрудника`
  - `Дата и время`

- **Заказ готов к выдаче**
  - `Идентификатор заказа`
  - `Идентификатор сотрудника`
  - `Дата и время`

- **Заказ выдан**
  - `Идентификатор заказа`
  - `Идентификатор сотрудника`
  - `Дата и время`

## Системные требования

### Обработка событий

Система применяет следующие правила для обработки событий:
- Событие регистрации заказа должно предшествовать любому другому событию.
- После выдачи или отмены заказа новые события не должны публиковаться.

### База данных

Используется реляционная база данных для хранения и управления информацией о заказах. Проект настроен для использования PostgreSQL.

## Получение информации о заказе

Система предоставляет возможность получения детальной информации о заказе, включая текущий статус заказа и историю всех связанных с ним событий.

## Начало работы

### Предварительные требования

- Java Development Kit (JDK)
- PostgreSQL Database

### Установка

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/SHOWTERsan/CoffeShopCRM.git
    ```
2. Перейдите в каталог проекта:
    ```sh
    cd CoffeeShopCRM
    ```
3. Создайте файл конфигурации из шаблона:
    ```sh
    cp src/main/resources/application.properties.template src/main/resources/application.properties
    ```
    
4. Соберите проект:
    ```sh
    mvn clean install
    ```

5. Запустите приложение:
    ```sh
    java -jar target/coffeeshopcrm.jar
    ```
